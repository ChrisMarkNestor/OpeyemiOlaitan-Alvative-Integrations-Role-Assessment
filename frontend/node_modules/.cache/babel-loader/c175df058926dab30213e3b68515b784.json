{"ast":null,"code":"var _jsxFileName = \"/home/ezikechris/Documents/OpeyemiOlaitan-Alvative-Integrations-Role-Assessment/client/src/pages/Result.js\";\nimport axios from \"axios\";\nimport React from \"react\";\nimport { useQuery } from \"react-query\";\nimport { useLocation } from \"react-router-dom\";\nimport LoadingSpinner from \"../components/LoadingSpinner\";\nimport { formatCurrencyString } from \"use-shopping-cart\";\nfunction useQueryString() {\n  return new URLSearchParams(useLocation().search);\n}\nexport default function Result() {\n  var queryString = useQueryString();\n  var sessionId = queryString.get('session_id');\n  var _useQuery = useQuery('Result', function () {\n      return sessionId ? axios(\"/api/checkout-sessions/\".concat(sessionId)).then(function (res) {\n        return res.data;\n      }) : null;\n    }),\n    data = _useQuery.data,\n    isLoading = _useQuery.isLoading,\n    isError = _useQuery.isError;\n  if (isLoading) return /*#__PURE__*/React.createElement(LoadingSpinner, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 25\n    }\n  });\n  if (!data && !isLoading) return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-white font-bold text-center mx-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 35\n    }\n  }, \"No purchase found.\");\n  if (isError) return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-red-500 font-bold text-center mx-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 23\n    }\n  }, \"Error loading result page\");\n  var total = formatCurrencyString({\n    value: data.amount_total,\n    currency: data.currency,\n    language: navigator.language\n  });\n  return /*#__PURE__*/React.createElement(\"section\", {\n    className: \"text-gray-400 bg-red-900 body-font\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container px-5 py-24 mx-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-center mb-20\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"sm:text-3xl text-2xl font-medium text-center title-font text-white mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 11\n    }\n  }, \"Payment Accepted!\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-base leading-relaxed xl:w-2/4 lg:w-3/4 text-xl mx-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 11\n    }\n  }, \"Below is your order summary. The items will be shipped to you within the next week.\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"text-xl text-indigo-400 tracking-widest font-medium title-font mb-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 11\n    }\n  }, \"Order Total: \", total), /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"text-xl text-indigo-400 tracking-widest font-medium title-font mb-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 11\n    }\n  }, \"Email: \", data.customer_details.email))));\n}","map":{"version":3,"names":["axios","React","useQuery","useLocation","LoadingSpinner","formatCurrencyString","useQueryString","URLSearchParams","search","Result","queryString","sessionId","get","then","res","data","isLoading","isError","total","value","amount_total","currency","language","navigator","customer_details","email"],"sources":["/home/ezikechris/Documents/OpeyemiOlaitan-Alvative-Integrations-Role-Assessment/client/src/pages/Result.js"],"sourcesContent":["import axios from \"axios\";\nimport React from \"react\";\nimport { useQuery } from \"react-query\";\nimport { useLocation } from \"react-router-dom\";\nimport LoadingSpinner from \"../components/LoadingSpinner\";\nimport { formatCurrencyString } from \"use-shopping-cart\";\n\nfunction useQueryString() {\n  return new URLSearchParams(useLocation().search);\n}\n\nexport default function Result() {\n  const queryString = useQueryString()\n  const sessionId = queryString.get('session_id')\n\n  const { data, isLoading, isError } = useQuery('Result', () => sessionId ? axios(`/api/checkout-sessions/${sessionId}`).then(res => res.data) : null);\n\n  if (isLoading) return <LoadingSpinner />\n  if (!data && !isLoading) return <div\n  className=\"text-white font-bold text-center mx-auto\">No purchase found.</div>\n  if (isError) return <div className=\"text-red-500 font-bold text-center mx-auto\">Error loading result page</div>\n\n  const total = formatCurrencyString({\n    value: data.amount_total,\n    currency: data.currency,\n    language: navigator.language\n  })\n\n  return (\n    <section className=\"text-gray-400 bg-red-900 body-font\">\n      <div className=\"container px-5 py-24 mx-auto\">\n        <div className=\"text-center mb-20\">\n          <h1 className=\"sm:text-3xl text-2xl font-medium text-center title-font text-white mb-4\">\n            Payment Accepted!\n          </h1>\n          <p className=\"text-base leading-relaxed xl:w-2/4 lg:w-3/4 text-xl mx-auto\">\n            Below is your order summary. The items will be shipped to you within\n            the next week.\n          </p>\n          <br />\n          <h2 className=\"text-xl text-indigo-400 tracking-widest font-medium title-font mb-1\">\n            Order Total: {total}\n          </h2>\n          <h2 className=\"text-xl text-indigo-400 tracking-widest font-medium title-font mb-1\">\n            Email: {data.customer_details.email}\n          </h2>\n        </div>\n      </div>\n    </section>\n  );\n}\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,QAAQ,QAAQ,aAAa;AACtC,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,OAAOC,cAAc,MAAM,8BAA8B;AACzD,SAASC,oBAAoB,QAAQ,mBAAmB;AAExD,SAASC,cAAc,GAAG;EACxB,OAAO,IAAIC,eAAe,CAACJ,WAAW,EAAE,CAACK,MAAM,CAAC;AAClD;AAEA,eAAe,SAASC,MAAM,GAAG;EAC/B,IAAMC,WAAW,GAAGJ,cAAc,EAAE;EACpC,IAAMK,SAAS,GAAGD,WAAW,CAACE,GAAG,CAAC,YAAY,CAAC;EAAA,gBAEVV,QAAQ,CAAC,QAAQ,EAAE;MAAA,OAAMS,SAAS,GAAGX,KAAK,kCAA2BW,SAAS,EAAG,CAACE,IAAI,CAAC,UAAAC,GAAG;QAAA,OAAIA,GAAG,CAACC,IAAI;MAAA,EAAC,GAAG,IAAI;IAAA,EAAC;IAA5IA,IAAI,aAAJA,IAAI;IAAEC,SAAS,aAATA,SAAS;IAAEC,OAAO,aAAPA,OAAO;EAEhC,IAAID,SAAS,EAAE,oBAAO,oBAAC,cAAc;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAG;EACxC,IAAI,CAACD,IAAI,IAAI,CAACC,SAAS,EAAE,oBAAO;IAChC,SAAS,EAAC,0CAA0C;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAAC,oBAAkB,CAAM;EAC7E,IAAIC,OAAO,EAAE,oBAAO;IAAK,SAAS,EAAC,4CAA4C;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAAC,2BAAyB,CAAM;EAE/G,IAAMC,KAAK,GAAGb,oBAAoB,CAAC;IACjCc,KAAK,EAAEJ,IAAI,CAACK,YAAY;IACxBC,QAAQ,EAAEN,IAAI,CAACM,QAAQ;IACvBC,QAAQ,EAAEC,SAAS,CAACD;EACtB,CAAC,CAAC;EAEF,oBACE;IAAS,SAAS,EAAC,oCAAoC;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACrD;IAAK,SAAS,EAAC,8BAA8B;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBAC3C;IAAK,SAAS,EAAC,mBAAmB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBAChC;IAAI,SAAS,EAAC,yEAAyE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAAC,mBAExF,CAAK,eACL;IAAG,SAAS,EAAC,6DAA6D;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAAC,qFAG3E,CAAI,eACJ;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAM,eACN;IAAI,SAAS,EAAC,qEAAqE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAAC,eACrE,EAACJ,KAAK,CAChB,eACL;IAAI,SAAS,EAAC,qEAAqE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAAC,SAC3E,EAACH,IAAI,CAACS,gBAAgB,CAACC,KAAK,CAChC,CACD,CACF,CACE;AAEd"},"metadata":{},"sourceType":"module"}